<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  ﻿  <ModulePrefs title="Video Watcher">
    ﻿  ﻿  <Require feature="rpc" />
    ﻿  ﻿  <Require feature="views" />
    ﻿  ﻿  <Require feature="locked-domain" />
    ﻿  </ModulePrefs>
  ﻿  <Content type="html"><![CDATA[

<html>
  <style type="text/css">
  </style>
  <body>

    <script src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script>

    <script>
      function embedVideo() {
        var embedUrl = document.getElementById("videoUrlInput").value;
        var embedHeight = document.getElementById("videoHeightInput").value;
        var embedWidth = document.getElementById("videoWidthInput").value;
        var ifr = document.getElementById("videoIframe");
        ifr.setAttribute("src", embedUrl);
        ifr.setAttribute("width", embedWidth);
        ifr.setAttribute("height", embedHeight);
      }

      function init() {
        // When API is ready...
        gapi.hangout.onApiReady.add(
            function(eventObj) {
              if (eventObj.isApiReady) {
                document.getElementById('playButton')
                  .style.visibility = 'visible';
              }
            });
      }

      // Wait for gadget to load.
      gadgets.util.registerOnLoadHandler(init);
      </script>


    <h3>Video Watcher</h3>

    <p>
      URL: <input type="text" id="videoUrlInput" />
      Width: <input type="text" id="videoWidthInput" />
      Height: <input type="text" id="videoHeightInput" />
      <input class="button" type="button" value="Play!" id="playButton"
	         style="visibility:hidden;"
	         onClick="embedVideo()"/>
      </p>

    <iframe id="videoIframe" />

    </body>
  ]]>
    </Content>
  </Module>

